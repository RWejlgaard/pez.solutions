<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/css/base.css">
    <title>Infrastructure Overview - Documentation</title>
</head>

<body class="base">
    <div class="container">
        <button class="menu-toggle" id="menuToggle"></button>
        <div class="sidemenu" id="sidemenu">
            <!-- Menu will be generated by global_menu.js -->
        </div>
        <div class="content">
            <h1>Infrastructure Overview</h1>
            <p><a href="/docs">&larr; Back to Documentation</a></p>

            <h2>Architecture Overview</h2>
            <p>
                Pez Solutions operates a distributed homelab infrastructure spanning multiple geographic locations. 
                My architecture is designed with redundancy, high availability, and cost-effectiveness in mind.
            </p>

            <h2>Geographic Distribution</h2>
            <div style="background-color: #222; padding: 15px; border-radius: 8px; margin: 20px 0;">
                <h3>London (Primary Location)</h3>
                <ul>
                    <li><strong>Role:</strong> Primary production environment</li>
                    <li><strong>Servers:</strong> 3 dedicated servers</li>
                    <li><strong>Services:</strong> Main Plex/Jellyfin, primary storage, web services</li>
                    <li><strong>Connectivity:</strong> High-speed fiber connection</li>
                    <li><strong>Hardware:</strong> Custom-built servers with redundant storage</li>
                </ul>

                <h3>Copenhagen (Secondary Location)</h3>
                <ul>
                    <li><strong>Role:</strong> Testing, backup, and secondary production</li>
                    <li><strong>Servers:</strong> 3 dedicated servers</li>
                    <li><strong>Services:</strong> Development environment, backup services</li>
                    <li><strong>Connectivity:</strong> Independent internet connection</li>
                    <li><strong>Hardware:</strong> Mirror of London setup for testing</li>
                </ul>
            </div>

            <h2>Self-Hosting Principles</h2>
            <p>My infrastructure is built on the foundation of self-hosting principles:</p>
            <ul>
                <li><strong>Data Sovereignty:</strong> Complete control over my data and services</li>
                <li><strong>Privacy First:</strong> No external dependencies for core functionality</li>
                <li><strong>Cost Efficiency:</strong> Avoiding recurring cloud costs through owned hardware</li>
                <li><strong>Learning & Experimentation:</strong> Platform for testing new technologies</li>
                <li><strong>Redundancy:</strong> Multiple locations ensure service continuity</li>
                <li><strong>Open Source:</strong> Preference for open-source solutions where possible</li>
            </ul>

            <h2>Core Infrastructure Components</h2>
            <div style="background-color: #222; padding: 15px; border-radius: 8px; margin: 20px 0;">
                <h3>Operating Systems</h3>
                <ul>
                    <li><strong>Primary OS:</strong> Ubuntu LTS (Long Term Support)</li>
                    <li><strong>Rationale:</strong> Stability, security updates, and extensive documentation</li>
                    <li><strong>Management:</strong> Automated updates and configuration management</li>
                    <li><strong>Monitoring:</strong> System health and performance tracking</li>
                </ul>

                <h3>Storage Architecture</h3>
                <ul>
                    <li><strong>File System:</strong> ZFS for data integrity and snapshots</li>
                    <li><strong>Redundancy:</strong> RAID configurations for fault tolerance</li>
                    <li><strong>Backup Strategy:</strong> Cross-location replication</li>
                    <li><strong>Monitoring:</strong> Continuous health monitoring and alerting</li>
                </ul>

                <h3>Network Architecture</h3>
                <ul>
                    <li><strong>Load Balancing:</strong> Traffic distribution across servers</li>
                    <li><strong>SSL/TLS:</strong> End-to-end encryption for all services</li>
                    <li><strong>DNS Management:</strong> Cloudflare for DNS and DDoS protection</li>
                    <li><strong>VPN Access:</strong> Secure remote administration</li>
                </ul>
            </div>

            <h2>Service Architecture</h2>
            <table class="table-outline">
                <tr>
                    <th>Service Category</th>
                    <th>Primary Location</th>
                    <th>Backup Location</th>
                    <th>Technology Stack</th>
                </tr>
                <tr>
                    <td>Media Streaming</td>
                    <td>London</td>
                    <td>Copenhagen</td>
                    <td>Plex, Jellyfin, Nginx</td>
                </tr>
                <tr>
                    <td>Cloud Storage</td>
                    <td>London</td>
                    <td>Copenhagen</td>
                    <td>Seafile, ZFS</td>
                </tr>
                <tr>
                    <td>Web Services</td>
                    <td>London</td>
                    <td>Copenhagen</td>
                    <td>Static sites, Nginx</td>
                </tr>
                <tr>
                    <td>Monitoring</td>
                    <td>Both</td>
                    <td>N/A</td>
                    <td>Grafana, Prometheus</td>
                </tr>
                <tr>
                    <td>Content Management</td>
                    <td>London</td>
                    <td>Copenhagen</td>
                    <td>Radarr, Sonarr</td>
                </tr>
            </table>

            <h2>Automation & Management</h2>
            <p>My infrastructure is managed through Infrastructure as Code (IaC) and automation:</p>
            <ul>
                <li><strong>Configuration Management:</strong> Ansible playbooks for server automation</li>
                <li><strong>Infrastructure as Code:</strong> Terraform for cloud resources</li>
                <li><strong>Container Orchestration:</strong> Kubernetes for scalable deployments</li>
                <li><strong>CI/CD:</strong> GitOps with ArgoCD for continuous deployment</li>
                <li><strong>Monitoring:</strong> Prometheus and Grafana for metrics and alerting</li>
            </ul>

            <h2>Security Architecture</h2>
            <div style="background-color: #222; padding: 15px; border-radius: 8px; margin: 20px 0;">
                <h3>Access Control</h3>
                <ul>
                    <li>Azure AD integration for centralized authentication</li>
                    <li>Multi-factor authentication for administrative access</li>
                    <li>Role-based access control (RBAC)</li>
                    <li>Regular security audits and updates</li>
                </ul>

                <h3>Network Security</h3>
                <ul>
                    <li>Firewall rules and network segmentation</li>
                    <li>DDoS protection via Cloudflare</li>
                    <li>SSL/TLS certificates for all services</li>
                    <li>VPN-only access for management interfaces</li>
                </ul>

                <h3>Data Protection</h3>
                <ul>
                    <li>Encrypted storage for sensitive data</li>
                    <li>Regular backup testing and restoration</li>
                    <li>Data retention policies</li>
                    <li>Compliance with privacy regulations</li>
                </ul>
            </div>

            <h2>Service Level Objectives (SLO)</h2>
            <p>
                I maintain a 99.9% uptime target with comprehensive performance objectives for all services. 
                For detailed SLO information, monitoring procedures, and recovery targets, see the 
                <a href="/docs/slo">dedicated SLO documentation</a>.
            </p>

            <h2>Monitoring & Alerting</h2>
            <p>Comprehensive monitoring ensures system health and performance:</p>
            <ul>
                <li><strong>System Metrics:</strong> CPU, memory, disk, network utilization</li>
                <li><strong>Service Health:</strong> Application-level monitoring and health checks</li>
                <li><strong>Log Management:</strong> Centralized logging and analysis</li>
                <li><strong>Alerting:</strong> Automated notifications for issues</li>
                <li><strong>Dashboards:</strong> Real-time visibility into system status</li>
            </ul>

            <h2>Disaster Recovery</h2>
            <div style="background-color: #222; padding: 15px; border-radius: 8px; margin: 20px 0;">
                <h3>Recovery Procedures</h3>
                <ul>
                    <li><strong>Automated Failover:</strong> Services automatically switch to backup location</li>
                    <li><strong>Data Replication:</strong> Real-time sync between locations</li>
                    <li><strong>Backup Testing:</strong> Regular restoration testing</li>
                    <li><strong>Documentation:</strong> Detailed recovery procedures</li>
                </ul>

                <h3>Business Continuity</h3>
                <ul>
                    <li><strong>Service Prioritization:</strong> Critical services first</li>
                    <li><strong>Communication Plan:</strong> User notification procedures</li>
                    <li><strong>Recovery Time Objectives:</strong> Target restoration times</li>
                    <li><strong>Post-Incident Analysis:</strong> Root cause analysis and improvements</li>
                </ul>
            </div>

            <h2>Capacity Planning</h2>
            <p>Proactive capacity management ensures scalability:</p>
            <ul>
                <li><strong>Storage Growth:</strong> Monitoring and planning for data growth</li>
                <li><strong>Compute Resources:</strong> Performance monitoring and scaling</li>
                <li><strong>Network Capacity:</strong> Bandwidth monitoring and upgrades</li>
                <li><strong>Service Demand:</strong> User growth and usage patterns</li>
            </ul>

            <h2>Hardware Specifications</h2>
            <div style="background-color: #222; padding: 15px; border-radius: 8px; margin: 20px 0;">
                <h3>Server Configuration</h3>
                <ul>
                    <li><strong>CPU:</strong> Multi-core processors optimized for workload</li>
                    <li><strong>Memory:</strong> ECC RAM for reliability</li>
                    <li><strong>Storage:</strong> SSD for OS, HDD for bulk storage</li>
                    <li><strong>Network:</strong> Gigabit ethernet with redundant connections</li>
                    <li><strong>Power:</strong> UPS backup systems</li>
                </ul>

                <h3>Maintenance Schedule</h3>
                <ul>
                    <li><strong>Monthly:</strong> System updates and security patches</li>
                    <li><strong>Quarterly:</strong> Hardware health checks</li>
                    <li><strong>Annually:</strong> Major system upgrades</li>
                    <li><strong>As Needed:</strong> Performance optimization</li>
                </ul>
            </div>

            <h2>Contact & Support</h2>
            <p>
                For infrastructure-related questions or issues, contact me at 
                <a href="mailto:infrastructure@pez.solutions">infrastructure@pez.solutions</a>.
            </p>
            <p>
                For detailed technical documentation and code repositories, visit my 
                <a href="https://github.com/rwejlgaard/pez-docs" target="_blank">GitHub documentation</a>.
            </p>
        </div>
    </div>
    <script src="/js/global_menu.js"></script>
    <script src="/js/menu_open.js"></script>
</body>

</html> 